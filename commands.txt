
######### STEP 1: Copy-paste one of these code blocks into the terminal ########

# Big experiment 1D:
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_1dim_big.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_big.yml";
SWEEP_NAME="test_100iter_1dim_maxhistory20_big";
SEEDS_CFG="--n_seeds 16";
PLOTS_GROUP_NAME="1dim_maxhistory20_big";
BO_PLOTS_NAME="results_100iter";

# Gittins experiment 1D: reduce variability
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_1dim_gittins_good.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_1dim_maxhistory20_gittins_good_reduced_variability";
SEEDS_CFG="--n_seeds 128 --n_objectives 1";
PLOTS_GROUP_NAME="1dim_maxhistory20_gittins_good_reduced_variability";
BO_PLOTS_NAME="results_100iter";

# Gittins experiment in 8D: try different learning rates
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_8dim_gittins_big.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_8dim_maxhistory20_gittins_big";
SEEDS_CFG="--n_seeds 32 --n_objectives 1";
PLOTS_GROUP_NAME="8dim_maxhistory20_gittins_big";
BO_PLOTS_NAME="results_100iter";

# EI experiment in 1D: refine learning rate from best of 3e-4 found earlier
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_1dim_ei_refine_lr.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_1dim_maxhistory20_ei_refine_lr";
SEEDS_CFG="--n_seeds 32 --n_objectives 1";
PLOTS_GROUP_NAME="1dim_maxhistory20_ei_refine_lr";
BO_PLOTS_NAME="results_100iter";

# Gittins experiment in 8D: try different learning rates, dataset sizes, layer widths
# (in response to the bad results for 8D)
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_8dim_gittins_big_2.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_8dim_maxhistory100_gittins_big_2";
SEEDS_CFG="--n_seeds 16 --n_objectives 1";
PLOTS_GROUP_NAME="8dim_maxhistory100_gittins_big_2";
BO_PLOTS_NAME="results_100iter";

# EI experiment in 1D: train many epochs with 3e-4 learning rate
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_1dim_ei_many_epochs.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_1dim_maxhistory20_ei_many_epochs";
SEEDS_CFG="--n_seeds 32 --n_objectives 1";
PLOTS_GROUP_NAME="1dim_maxhistory20_ei_many_epochs";
BO_PLOTS_NAME="results_100iter";

# EI experiment in 1D: train many epochs with 3e-4 learning rate -- revised after seeing results
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_1dim_ei_many_epochs_2.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_1dim_maxhistory20_ei_many_epochs_2";
SEEDS_CFG="--n_seeds 128 --n_objectives 1";
PLOTS_GROUP_NAME="1dim_maxhistory20_ei_many_epochs_2";
BO_PLOTS_NAME="results_100iter";

# Gittins experiment in 8D: throw more compute at best (96 missing, 96 existing)
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_8dim_gittins_good.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_8dim_maxhistory20_gittins_good";
SEEDS_CFG="--n_seeds 32 --n_objectives 1";
PLOTS_GROUP_NAME="8dim_maxhistory20_gittins_good";
BO_PLOTS_NAME="results_100iter";

# Gittins experiment in 8D: throw more compute at best; more extensive hyperparameter search
# (1 missing, 383 existing)
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_8dim_gittins_good_2.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_8dim_maxhistory20_gittins_good_2";
SEEDS_CFG="--n_seeds 32 --n_objectives 1";
PLOTS_GROUP_NAME="8dim_maxhistory20_gittins_good_2";
BO_PLOTS_NAME="results_100iter";

# Gittins experiment in 8D: experiment with dataset size
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_8dim_gittins_dataset_size.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_8dim_maxhistory20_gittins_dataset_size";
SEEDS_CFG="--n_seeds 32 --n_objectives 1";
PLOTS_GROUP_NAME="8dim_maxhistory20_gittins_dataset_size";
BO_PLOTS_NAME="results_100iter";

# Experiment in 8D: experiment with everything
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_8dim_big.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_8dim_maxhistory20_big";
SEEDS_CFG="--n_seeds 16 --n_objectives 1";
PLOTS_GROUP_NAME="8dim_maxhistory20_big";
BO_PLOTS_NAME="results_100iter";

# Experiment in 8D: experiment with reducing layer width and adding weight decay,
# and with dataset size
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_8dim_gittins_regularization.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_8dim_maxhistory20_gittins_regularization";
SEEDS_CFG="--n_seeds 16 --n_objectives 1";
PLOTS_GROUP_NAME="8dim_maxhistory20_gittins_regularization";
BO_PLOTS_NAME="results_100iter";

# Experiment in 8D: more experimenting with regularization (now dropout too) -- just gittins
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_8dim_gittins_regularization_2.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_8dim_maxhistory20_gittins_regularization_2";
SEEDS_CFG="--n_seeds 16 --n_objectives 1";
PLOTS_GROUP_NAME="8dim_maxhistory20_gittins_regularization_2";
BO_PLOTS_NAME="results_100iter";

# Experiment in 8D: more experimenting with regularization (now dropout too) -- gittins & EI
# Submitted 2025-04-24 19:18:07
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_8dim_regularization.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_8dim_maxhistory20_regularization";
SEEDS_CFG="--n_seeds 16 --n_objectives 1";
PLOTS_GROUP_NAME="8dim_maxhistory20_regularization";
BO_PLOTS_NAME="results_100iter";

# Simple experiment in 1D to test policy gradient method
# after ignoring it for so long, and compare it to the other 2 methods
# -- in 2025-06-04 slides
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_1dim_compare_3methods_initial.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_1dim_compare_3methods_initial";
SEEDS_CFG="--n_seeds 128 --n_objectives 1";
PLOTS_GROUP_NAME="1dim_maxhistory20_compare_3methods_initial";
BO_PLOTS_NAME="results_100iter";

# Initial experiment of PointNet architecture variations, 1D
# -- in 2025-06-04 slides
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_1dim_pointnet_architecture_variations.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_1dim_pointnet_architecture_variations";
SEEDS_CFG="--n_seeds 128 --n_objectives 1";
PLOTS_GROUP_NAME="1dim_pointnet_architecture_variations";
BO_PLOTS_NAME="results_100iter";

# Initial experiment of PointNet architecture variations, 1D -- policy gradient
# -- in 2025-06-04 slides
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_1dim_pointnet_architecture_variations_policy_gradient.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_1dim_pointnet_architecture_variations_policy_gradient";
SEEDS_CFG="--n_seeds 128 --n_objectives 1";
PLOTS_GROUP_NAME="1dim_pointnet_architecture_variations_policy_gradient";
BO_PLOTS_NAME="results_100iter";

# Initial experiment of PointNet architecture variations, 8D
# -- in 2025-06-04 slides
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_8dim_pointnet_architecture_variations.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_8dim_pointnet_architecture_variations";
SEEDS_CFG="--n_seeds 128 --n_objectives 1";
PLOTS_GROUP_NAME="8dim_pointnet_architecture_variations";
BO_PLOTS_NAME="results_100iter";


# Second experiment of PointNet architecture variations, 1D -- policy gradient
# -- in 2025-06-11 slides
# One NN currently in training left to complete and is still running after 3 days (I think); and some extra BO loops left
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_1dim_pointnet_architecture_variations_policy_gradient_2.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_1dim_pointnet_architecture_variations_policy_gradient_2";
SEEDS_CFG="--n_seeds 128 --n_objectives 1";
PLOTS_GROUP_NAME="1dim_pointnet_architecture_variations_policy_gradient_2";
BO_PLOTS_NAME="results_100iter";

# Initial experiment of PointNet architecture variations, 8D -- policy gradient
# -- in 2025-06-11 slides
# ALL DONE
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_8dim_pointnet_architecture_variations_policy_gradient.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_8dim_pointnet_architecture_variations_policy_gradient";
SEEDS_CFG="--n_seeds 128 --n_objectives 1";
PLOTS_GROUP_NAME="8dim_pointnet_architecture_variations_policy_gradient";
BO_PLOTS_NAME="results_100iter";

# Experiment of PointNet architecture variations + dataset size, 1D
# -- in 2025-06-11 slides
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_1dim_pointnet_architecture_variations-dataset_size.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_1dim_pointnet_architecture_variations-dataset_size";
SEEDS_CFG="--n_seeds 64 --n_objectives 1";
PLOTS_GROUP_NAME="1dim_pointnet_architecture_variations-dataset_size";
BO_PLOTS_NAME="results_100iter";

# Experiment of changing feature dimension of PointNet (keeping layer width the same), 1D
# -- in 2025-06-11 slides (? maybe if I have time)
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_1dim_feature_dim_variation.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_1dim_feature_dim_variation";
SEEDS_CFG="--n_seeds 128 --n_objectives 1";
PLOTS_GROUP_NAME="1dim_feature_dim_variation";
BO_PLOTS_NAME="results_100iter";

# Experiment of PointNet architecture variations + dataset size, 1D -- More architecture variations
# This is "Architecture variation experiment 1" in 2025-07-19 presentation
# vary dataset size; fix architecture size;
# vary x_cand_input, pooling, include_best_y, subtract_best_y
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_1dim_pointnet_architecture_variations-dataset_size-more_architectures.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_1dim_pointnet_architecture_variations-dataset_size-more_architectures";
SEEDS_CFG="--n_seeds 64 --n_objectives 1";
PLOTS_GROUP_NAME="1dim_pointnet_architecture_variations-dataset_size-more_architectures";
BO_PLOTS_NAME="results_100iter";

# Experiment of PointNet architecture size (layer width, # hidden layers, feature dimension), + dataset size
# This is "Architecture variation experiment 2" in 2025-07-19 presentation
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_1dim_pointnet_model_size_variations-dataset_size.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_1dim_pointnet_model_size_variations-dataset_size";
SEEDS_CFG="--n_seeds 64 --n_objectives 1";
PLOTS_GROUP_NAME="1dim_pointnet_model_size_variations-dataset_size";
BO_PLOTS_NAME="results_100iter";


# Refined Experiment of PointNet architecture size (layer width, # hidden layers, feature dimension), + dataset size
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_1dim_pointnet_model_size_variations-dataset_size-2.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_1dim_pointnet_model_size_variations-dataset_size-2";
SEEDS_CFG="--n_seeds 128 --n_objectives 1";
PLOTS_GROUP_NAME="1dim_pointnet_model_size_variations-dataset_size-2";
BO_PLOTS_NAME="results_100iter";


# PointNet, big dataset
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_1dim_pointnet_big_dataset.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_1dim_pointnet_big_dataset";
SEEDS_CFG="--n_seeds 128 --n_objectives 1";
PLOTS_GROUP_NAME="1dim_pointnet_big_dataset";
BO_PLOTS_NAME="results_100iter";


# Experiment of 1D PointNet PBGI: max_history_input (2, 4, 9, null), + dataset size
# Created 2025-09-09
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_1dim_pointnet-max_history_input_variation-pbgi.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_1dim_pointnet-max_history_input_variation-pbgi";
SEEDS_CFG="--n_seeds 64 --n_objectives 1";
PLOTS_GROUP_NAME="1dim_pointnet-max_history_input_variation-pbgi";
BO_PLOTS_NAME="results_100iter";

# Experiment of 1D PointNet MSE EI: max_history_input (2, 4, 9, null), + dataset size
# Created 2025-09-09
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_1dim_pointnet-max_history_input_variation-mse_ei.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_1dim_pointnet-max_history_input_variation-mse_ei";
SEEDS_CFG="--n_seeds 64 --n_objectives 1";
PLOTS_GROUP_NAME="1dim_pointnet-max_history_input_variation-mse_ei";
BO_PLOTS_NAME="results_100iter";

# Experiment of 3D PointNet PBGI: max_history_input (2, 4, 9, null), + dataset size
# Created 2025-09-18
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_3dim_pointnet-max_history_input_variation-pbgi.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_3dim_pointnet-max_history_input_variation-pbgi";
SEEDS_CFG="--n_seeds 64 --n_objectives 1";
PLOTS_GROUP_NAME="3dim_pointnet-max_history_input_variation-pbgi";
BO_PLOTS_NAME="results_100iter";

# Experiment of HPO-B
# Created 2025-09-18
SEED=8;
NN_EXPERIMENT_CFG="config/train_acqf_experiment_hpob_pointnet-max_history_input_variation-pbgi.yml";
BO_EXPERIMENT_CFG="config/bo_config_experiment_2_torch.yml";
SWEEP_NAME="100iter_hpob_pointnet-max_history_input_variation-pbgi";
SEEDS_CFG="--n_seeds 64 --n_objectives 1";
PLOTS_GROUP_NAME="hpob_pointnet-max_history_input_variation-pbgi";
BO_PLOTS_NAME="results_100iter";


######## Optionally use this SEEDS_CFG instead
SEEDS_CFG="--n_seeds 6 --n_objectives 1";


######### STEP 2: Copy-paste this code into the terminal ########
NN_CFG="--nn_base_config config/train_acqf.yml --nn_experiment_config $NN_EXPERIMENT_CFG";
BO_CFG="--bo_base_config config/bo_config.yml --bo_experiment_config $BO_EXPERIMENT_CFG --seed $SEED $SEEDS_CFG";
SLURM_CFG="--sweep_name $SWEEP_NAME --mail adj53@cornell.edu --gres gpu:1";
PLOTS_CFG="--plots_group_name $PLOTS_GROUP_NAME --use_rows --use_cols";

######### STEP 3: Copy-paste one of these lines into terminal ########
BO_PLOTS_CFG="--center_stat mean --interval_of_center --plots_name $BO_PLOTS_NAME --assume_normal"
BO_PLOTS_CFG="--center_stat mean --interval_of_center --plots_name $BO_PLOTS_NAME"
BO_PLOTS_CFG="--center_stat median --interval_of_center --plots_name $BO_PLOTS_NAME"
BO_PLOTS_CFG="--plots_name $BO_PLOTS_NAME"

################ STEP 4: Here are the commands that you can run: ###############
python bo_experiments_gp_status.py $NN_CFG $BO_CFG
       python bo_experiments_gp.py $NN_CFG $BO_CFG $SLURM_CFG --no_submit
       python bo_experiments_gp.py $NN_CFG $BO_CFG $SLURM_CFG
       python train_acqf.py $NN_CFG $SLURM_CFG
  python bo_experiments_gp_plot.py $NN_CFG $BO_CFG $PLOTS_CFG $BO_PLOTS_CFG --n_iterations 30
         python train_acqf_plot.py $NN_CFG         $PLOTS_CFG
